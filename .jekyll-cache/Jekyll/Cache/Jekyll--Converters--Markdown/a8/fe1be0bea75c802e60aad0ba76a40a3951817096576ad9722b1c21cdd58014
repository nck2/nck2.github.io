I"“$<h2 id="ëª‡ê°€ì§€-fact">ëª‡ê°€ì§€ fact</h2>
<ul>
  <li>í•˜ë‚˜ì˜ form íƒœê·¸ëŠ” í•˜ë‚˜ ì´ìƒì˜ <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/The_native_form_widgets">ìœ„ì ¯</a>ì„ ê°€ì§„ë‹¤.</li>
  <li>MiddlewareëŠ” viewí•¨ìˆ˜ì˜ í•¨,ë’¤ì—ì„œ ì‹¤í–‰ë¨.(csrf_tokenì´ í•œ ì˜ˆ)
-<a href="https://docs.djangoproject.com/en/1.10/ref/request-response/#quick-overview">request.method</a> ëŠ” â€œGET,POSTâ€ (ëŒ€ë¬¸ì)ë¡œ ì‚¬ìš©</li>
  <li>request.GET, request.POST, request.FILES</li>
  <li>ValidatorëŠ” ëª¨ë¸ì— í•˜ë©´ ì¢‹ìŒ(adminì—ë„ í¬í•¨ë¨)</li>
  <li>form.is_valid()ê°€ ì°¸ì´ë˜ë©´ ê°’ë“¤ì„ ì‚¬ì „íƒ€ì…ìœ¼ë¡œ form.cleaned_dataì— ì €ì¥ë¨.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python">     <span class="o">&lt;</span><span class="n">form</span> <span class="n">action</span> <span class="s">"?lang=ko"</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"post"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s">"text"</span> <span class="n">name</span><span class="o">=</span><span class="s">"title"</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">textarea</span> <span class="n">name</span><span class="o">=</span><span class="s">"contents"</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s">"text"</span> <span class="n">name</span><span class="o">=</span><span class="s">"latlng"</span> <span class="o">/&gt;</span>
     <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span></code></pre></figure>

<p>ë¼ í•˜ë©´ postì „ì†¡ì— getì¸ìë¥¼ ì§€ì •í•´ì„œ ë³´ë‚´ëŠ” ê²ƒì„.</p>

<ul>
  <li>form.is_valid()ë¥¼ í•˜ë©´ ìœ íš¨ì„± ê²€ì‚¬ì™€ í•¨ê»˜ clean data ìƒì„±í•¨.</li>
  <li>(ëª¨ë¸í¼ì„ ì‚¬ìš©í–ˆì„ ê²½ìš°) comment=form.save(commit=False)ë¥¼ í•˜ë©´ clean dataê°€ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ë˜ì–´ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤(comment)ë¥¼ ìƒì„±. ìœ„ì—ì„œ commit=Falseì„ ìƒëµí•˜ë©´, DBì— ì €ì¥ë˜ëŠ” ì ˆì°¨ê°€ ë¶€ì—¬ë¨.</li>
  <li>request.POST[â€˜messageâ€™]ë³´ë‹¤ëŠ” form.cleaned_data[â€˜messageâ€™]ì™€ ê°™ì´ ì‚¬ìš©í•  ê²ƒ</li>
  <li>ëª¨ë¸í¼ì—ì„œ ìˆ˜ì •ì€ instance=postë¥¼ ë„£ì–´ì£¼ì–´ì•¼ í•¨.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#app/models.py
</span><span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
  <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextFiels</span><span class="p">()</span>
  <span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
  <span class="n">updated_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="c1">#app/forms.py
</span><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="k">class</span> <span class="nc">PostForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
  <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
  <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">)</span></code></pre></figure>

<ul>
  <li>modelsëŠ” DBì— ëŒ€í•œ fields ì„¤ëª…</li>
  <li>formì€  pythonì— ëŒ€í•œ fields(íŒŒì´ì¬ì€ ê¸¸ì´ì— ë”°ë¥¸ êµ¬ë¶„ì´ ì—†ìœ¼ë¯€ë¡œ ê°™ì´ ì“°ë©´ ëœë‹¤. )</li>
  <li>formì˜ ìœ íš¨ì„± ê²€ì‚¬ê°€ í†µê³¼í•˜ì˜€ì„ ë•Œ ì €ì¥ë°©ë²•</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python">     <span class="c1">#ë°©ë²•1
</span>     <span class="n">post</span> <span class="o">=</span><span class="n">Post</span><span class="p">()</span>
     <span class="n">post</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span>
     <span class="n">post</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_date</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span>
     <span class="n">post</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

     <span class="c1">#ë°©ë²•2
</span>     <span class="n">post</span> <span class="o">=</span><span class="n">Post</span><span class="p">(</span><span class="n">title</span><span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s">'title'</span><span class="p">],</span> <span class="n">content</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_date</span><span class="p">[</span><span class="s">'content'</span><span class="p">])</span>
     <span class="n">post</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

     <span class="c1">#ë°©ë²•3
</span>     <span class="n">post</span> <span class="o">=</span><span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">title</span><span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s">'title'</span><span class="p">],</span> <span class="n">content</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_date</span><span class="p">[</span><span class="s">'content'</span><span class="p">])</span>

     <span class="c1">#ë°©ë²•4
</span>     <span class="n">post</span><span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">)</span></code></pre></figure>

<ul>
  <li>3,4ë²ˆì§¸ ë°©ì‹ì€ ë”°ë¡œ save()ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šì•„ë„ ë¨.</li>
  <li>
    <p>ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´ form.errorsì™€ form.ê°í•„ë“œ.errorsì— ì •ë³´ì €ì¥</p>
  </li>
  <li>
    <p>ë‚´ì¥ <a href="https://docs.djangoproject.com/en/1.10/ref/validators/">Validators</a></p>
  </li>
  <li>í™”ë©´ í•œìª½ìœ¼ë¡œ ì ë¦´ë•Œ</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python">     <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span> <span class="s">"container"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span> <span class="s">"row"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span> <span class="s">"col-md-12"</span><span class="o">&gt;</span>
            <span class="err">ë‚´ìš©</span>
          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span></code></pre></figure>

<p>ë§Œ í•´ë„ ì–´ëŠì •ë„ ë ˆì´ì•„ì›ƒì´ ì´ë»ì§„ë‹¤.</p>

<ul>
  <li>nonfield error (íŠ¹ì •ì˜ì—­ì— ì†í•˜ì§€ ì•ŠëŠ” ì „ì²´ì ì¸ ì˜¤ë¥˜)</li>
  <li>í…œí”Œë¦¿ì—ì„œ ì“°ëŠ” form ë§ˆí¬ì—… <a href="https://docs.djangoproject.com/en/1.10/topics/forms/#rendering-fields-manually">ì°¸ê³ </a>
    <ul>
      <li>for error in form.non_field_errors</li>
      <li>form.title.label_tag ë“±</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p><a href="https://nomade.kr">AskDjango</a> EP18~EP24 form ê´€ë ¨</p>
</blockquote>
:ET